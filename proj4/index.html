<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cousine:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="../style.css">
    <meta charset="UTF-8">

    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
            }
        };
    </script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!--    <link type="image/png" rel="icon" href="images/icon.png">-->

    <title>[Auto]Stitching Photo Mosaics</title>
</head>
<body>

<div class="menu">
    <ul>
        <li><a href="#overview1">OVERVIEW (A) </a></li>
        <li><a href="#photo">PHOTOS</a></li>
        <li><a href="#homography">HOMOGRAPHY</a></li>
        <li><a href="#rect">RECTIFICATION</a></li>
        <li><a href="#mosaic">MOSAIC</a></li>
    </ul>
</div>

<div class="content">
    <div class="header">[Auto]Stitching Photo Mosaics</div>
    <div class="subheader">Elana Ho</div>

    <div class="content-item">
        <a class="anchor" id="overview1"></a>
        <div class="subheader_left">Overview</div>
    </div>

    <br>

    <div class="content-item">
        <a class="anchor" id="photo"></a>
        <div class="subheader_left">Shooting the Photos</div>

        <h3>Images for rectification</h3>
        <p>I captured photos of objects with rectangular faces, one being a power outlet in Cory Hall, and another being a print of my artwork. By taking the pictures at an angle, the face which is rectangular at an aerial view, appears as a trapezoid.  </p>

        <!-- TODO: insert images -->

        <h3>Images for mosaics</h3>
        <p>For each scene, I shot multiple photos from different angles by fixing the center of projection (COP) and rotating the camera. </p>

        <!-- TODO: insert images -->
    </div>

    <br>

    <div class="content-item">
        <a class="anchor" id="homography"></a>
        <div class="subheader_left">Recovering Homographies</div>

        <p>Using the images taken, correspondence points were defined using <a href="https://cal-cs180.github.io/fa23/hw/proj3/tool.html">this labeling tool</a>. In two images of the same scene from different angles, these points mark key common regions. The relation between these points is represented by the homography matrix $H$. More generally, a homography is a mapping between any two projective planes with the same COP. Given the correspondence points, the homography is recovered by setting up a system of equations and solving for $H$ via <span class="code">np.linalg.lstsq</span>.</p>

        <p>Suppose we have points $\vec{p}_i$ in <span class="code">im1</span> and $\vec{q}_i$ in <span class="code">im2</span>.</p>
        $$\vec{p}_i = \begin{bmatrix} p_{xi} \\ p_{yi} \end{bmatrix} \quad \vec{q}_i = \begin{bmatrix} w \cdot q_{xi} \\ w \cdot q_{yi} \end{bmatrix}$$

        <p>Because $\vec{p}_i$ and $\vec{q}_i$ are both $2 \times 1$, homogeneous coordinates are added to allow for the affine transformation.</p>

        $$\vec{p'}_i = \begin{bmatrix} p_{xi} \\ p_{yi} \\ 1 \end{bmatrix} \quad \vec{q'}_i = \begin{bmatrix} w \cdot q_{xi} \\ w \cdot q_{yi} \\ w \end{bmatrix}$$

        $$ H := \begin{bmatrix} a & b & c \\ d & e & f \\ g & h & 1 \end{bmatrix} \quad \text{st} \quad H\vec{p'}_i = \vec{q'}_i$$

    </div>

    <br>

    <div class="content-item">
        <a class="anchor" id="rect"></a>
        <div class="subheader_left">Image Rectification</div>
    </div>

    <br>

    <div class="content-item">
        <a class="anchor" id="mosaic"></a>
        <div class="subheader_left">Blending the Images into a Mosaic</div>

    </div>


</div>
</body>
</html>